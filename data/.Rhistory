data(drg)
usethis::use_data(drg)
drg <- read.csv("/Users/rahuljosephfernandez/Desktop/data_science/datalabii/data/drg.csv")
usethis::use_data(drg, internal = TRUE)
data(drg)
drgplot <- function(option) {
if (option == "avg.medi") {
drg %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, group = DRG.Definition))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, group = DRG.Definition))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, group = DRG.Definition))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
}
load("~/Desktop/data_science/datalabii/R/sysdata.rda")
data(sysdata)
library(tidyverse)
library(ggplot2)
library(ggdark)
drg <- read.csv("/Users/rahuljosephfernandez/Desktop/data_science/datalabii/data/drg.csv")
usethis::use_data(drg)
drgplot <- function(option) {
if (n, option == "avg.medi") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, group = DRG.Definition))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, group = DRG.Definition))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, group = DRG.Definition))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
else if (!is.numeric(n))
stop("Please provide a numeric argument to n")
}
drgplot <- function(option) {
if (n, option == "avg.medi") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, group = DRG.Definition))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, group = DRG.Definition))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, group = DRG.Definition))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
else if (!is.numeric(n)) {
stop("Please provide a numeric argument to n")
}
}
drgplot <- function(option) {
if (n, option == "avg.medi") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, group = DRG.Definition))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, group = DRG.Definition))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, group = DRG.Definition))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
else if (!is.numeric(n)) {
stop("Please provide a numeric argument to n")
}
}
drgplot <- function(n, option) {
if (option == "avg.medi") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, group = DRG.Definition))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, group = DRG.Definition))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, group = DRG.Definition))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
else if (!is.numeric(n)) {
stop("Please provide a numeric argument to n")
}
}
library(tidyverse)
library(ggplot2)
library(ggdark)
drgplot(n = 10, option = "avg.total")
drgplot <- function(n, option) {
if (option == "avg.medi") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, fill = DRG.Definition))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, fill = DRG.Definition))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg %>%
top_n(n) %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, fikl = DRG.Definition))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
else if (!is.numeric(n)) {
stop("Please provide a numeric argument to n")
}
}
drgplot(n = 10, option = "avg.total")
drgplot(n = 3, option = "avg.total")
drgplot <- function(data = drg, option) {
if (option == "avg.medi") {
drg %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, fill = DRG.Definition))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, fill = DRG.Definition))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, fikl = DRG.Definition))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
else if (!is.numeric(n)) {
stop("Please provide a numeric argument to n")
}
}
drgplot(option = "avg.medi")
drgplot <- function(data = drg, option) {
if (option == "avg.medi") {
drg %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, group = DRG.Definition))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, group = DRG.Definition))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, group = DRG.Definition))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
else if (!is.numeric(n)) {
stop("Please provide a numeric argument to n")
}
}
drgplot(option = "avg.medi")
View(drg)
drgplot(option = "avg.medi")
data(drg)
getwd()
DRG <- read.csv("drg.csv")
DRG <- read.csv("datalabii/data/drg.csv")
DRG <- read.csv("Desktop/data_science/datalabii/data/drg.csv")
setwd("~/Desktop/data_science/datalabii/data")
DRG <- read.csv("drg.csv")
View(DRG)
View(DRG)
DRG_clean <- tidyr::separate(DRG,
1,
into = c("drg","definition"),
sep = 6)
View(DRG_clean)
View(DRG_clean)
rm(DRG_clean)
clean_drgdata <- function() {
drg_clean <- DRG %>%
tidyr::separate(1,
into = c("drg","Definition"),
sep = 6)
stringr::str_replace_all(drg_clean$drg, " - ", "")
}
clean_drgdata()
clean_drgdata <- function() {
drg_clean <-  tidyr::separate(DRG,
1,
into = c("drg","Definition"),
sep = 6)
stringr::str_replace_all(drg_clean$drg, " - ", "")
}
clean_drgdata()
clean_drgdata <- function() {
drg_clean <-  tidyr::separate(DRG,
1,
into = c("drg","Definition"),
sep = 6)
stringr::str_replace_all(drg_clean$drg, " - ", "")
return(drg_clean)
}
clean_drgdata()
rm(clean_drgdata())
rm(clean_drgdata)
rm(DRG)
library(tidyverse)
library(ggplot2)
library(ggdark)
drg <- read.csv("/Users/rahuljosephfernandez/Desktop/data_science/datalabii/data/drg.csv")
drgplot <- function(option) {
drg_clean <-  tidyr::separate(DRG,
1,
into = c("Code","Definition"),
sep = 6)
stringr::str_replace_all(drg_clean$drg, " - ", "")
if (option == "avg.medi") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, group = Code))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, group = Code))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, group = Code))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
}
drgplot(option = "avg.mdei")
drgplot(option = "avg.medi")
drgplot <- function(option) {
drg_clean <-  tidyr::separate(drg,
1,
into = c("Code","Definition"),
sep = 6)
stringr::str_replace_all(drg_clean$drg, " - ", "")
if (option == "avg.medi") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, group = Code))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, group = Code))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, group = Code))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
}
drgplot(option = "avg.medi")
drgplot <- function(option) {
drg_clean <-  tidyr::separate(drg,
1,
into = c("Code","Definition"),
sep = 6)
stringr::str_replace_all(drg_clean$drg, " - ", "")
if (option == "avg.medi") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, fill = Code))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, fill = Code))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, fill = Code))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
}
drgplot(option = "avg.medi")
drgplot(option = "avg.cov")
drgplot <- function(option) {
drg_clean <-  tidyr::separate(drg,
1,
into = c("Code","Definition"),
sep = 6)
stringr::str_replace_all(drg_clean$drg, " - ", "")
if (option == "avg.medi") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Medicare.Payments, group = Code))+
xlab("Average Medicare Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.total") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Total.Payments, group = Code))+
xlab("Average Total Payments (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (option == "avg.cov") {
drg_clean %>%
ggplot()+
geom_boxplot(mapping = aes(Average.Covered.Charges, group = Code))+
xlab("Average Covered Charges (USD)")+
coord_flip()+
dark_theme_minimal()
}
else if (is.null(option)) {
stop("Please specify an argument to option")
}
}
drgplot(option = "avg.cov")
drgstat <- function(stat) {
if (stat == "mean") {
mea <- mean(drg$Average.Medicare.Payments, na.rm = TRUE)
print(paste("The Mean is:", round(mea, 3)))
}
else if (stat == "median") {
med <- median(drg$Average.Medicare.Payments, na.rm = TRUE)
print(paste("The Median is:", round(med, 3)))
}
else if (stat == "sd") {
sdv <- sd(drg$Average.Medicare.Payments, na.rm = TRUE)
print(paste("The Standard Deviation is:", round(sdv, 3)))
}
else if (stat == "all") {
mea <- mean(drg$Average.Medicare.Payments, na.rm = TRUE)
med <- median(drg$Average.Medicare.Payments, na.rm = TRUE)
sdv <- sd(drg$Average.Medicare.Payments, na.rm = TRUE)
print(paste("Mean:", round(mea, 3)))
print(paste("Median:", round(med, 3)))
print(paste("Standard Deviation:", round(sdv, 3)))
}
else {
stop("Please specify a valid argument to stat.")
}
}
drgstat(stat = "mean")
drgstat(stat = "")
drgstat()
drgstat(stat = "all")
rm(DRG)
load("~/Desktop/data_science/datalabii/data/drg.rda")
View(DRG)
rm(DRG)
